/*! chrome-ang-app 31-10-2013 */
"use strict";var app=angular.module("noMoreLies",[]);app.controller("MainCtrl",function($scope,$timeout,Weather){$scope.date={};var updateTime=function(){$scope.date.raw=new Date,$timeout(updateTime,1e3)};$scope.weather={},Weather.getWeatherForecast("CA/San_Francisco").then(function(data){$scope.weather.forecast=data}),updateTime()}),app.provider("Weather",function(){this.getUrl=function(type,ext){return"http://api.wunderground.com/api/"+this.apiKey+"/"+type+"/q/"+ext+".json"},this.setApiKey=function(key){key&&(this.apiKey=key)},this.$get=function($q,$http){var self=this;return{getWeatherForecast:function(city){var d=$q.defer();return $http({method:"GET",url:self.getUrl("forecast",city),cache:!0}).success(function(data){d.resolve(data.forecast.simpleforecast)}).error(function(err){d.reject(err)}),d.promise}}}}),app.config(function(WeatherProvider){WeatherProvider.setApiKey("0bf91bb915508618")});